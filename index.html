<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Th·∫ßn s·ªë h·ªçc</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background: linear-gradient(135deg, #ff9a9e 10%, #fad0c4 100%);
            color: #333;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        .container {
            background-color: #ffffffaa;
            border-radius: 20px;
            padding: 30px;
            width: 90%;
            max-width: 600px;
            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);
        }

        h1 {
            font-size: 2.5em;
            margin-bottom: 20px;
            color: #FF5733;
        }

        .balance,
        .bet-amount {
            font-size: 1.5em;
            margin-top: 15px;
            font-weight: bold;
        }

        .buttons,
        .dice-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            margin-top: 20px;
        }

        .btn {
            padding: 15px 25px;
            font-size: 1.1em;
            margin: 5px;
            cursor: pointer;
            background-color: #FF5733;
            color: white;
            border: none;
            border-radius: 10px;
            width: 100px;
            transition: 0.3s ease;
        }

        .btn:hover {
            background-color: #C70039;
            transform: scale(1.1);
        }

        .result,
        .error {
            font-size: 1.5em;
            margin-top: 20px;
            color: #333;
            font-weight: bold;
        }

        .dice {
            font-size: 4em;
            margin: 10px;
            transition: transform 5s;
        }

        .history {
            margin-top: 20px;
            text-align: left;
        }

        .history h2 {
            font-size: 1.8em;
            margin-bottom: 10px;
            color: #FF5733;
        }

        #historyList {
            list-style-type: none;
            padding: 0;
            max-height: 200px;
            overflow-y: auto;
        }

        #historyList li {
            font-size: 1em;
            padding: 10px;
            border-bottom: 1px solid #ddd;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>Th·∫ßn s·ªë h·ªçc</h1>
        <p class="balance">T√†i kho·∫£n c·ªßa b·∫°n: <span id="balance">$1000</span></p>
        <p class="bet-amount">S·ªë ti·ªÅn c∆∞·ª£c: <span id="betAmount">$0</span></p>

        <!-- C√°c n√∫t ch·ªçn ti·ªÅn c∆∞·ª£c -->
        <div class="buttons">
            <button class="btn" onclick="addBet(50)">50$</button>
            <button class="btn" onclick="addBet(100)">100$</button>
            <button class="btn" onclick="addBet(200)">200$</button>
            <button class="btn" onclick="addBet(500)">500$</button>
            <button class="btn" onclick="addBet(1000)">1000$</button>
            <button class="btn" onclick="addBet(2000)">2000$</button>
            <button class="btn" onclick="addBet(5000)">5000$</button>
            <button class="btn" onclick="addBet(10000)">10000$</button>
            <button class="btn" onclick="allIn()">All In</button>
            <button class="btn" onclick="clearBet()">X√≥a ti·ªÅn c∆∞·ª£c</button>
        </div>

        <!-- N√∫t ƒë·∫∑t c∆∞·ª£c -->
        <div class="buttons">
            <button class="btn" onclick="placeBet('xiu')">ƒê·∫∑t c∆∞·ª£c X·ªâu</button>
            <button class="btn" onclick="placeBet('tai')">ƒê·∫∑t c∆∞·ª£c T√†i</button>
        </div>

        <!-- Th√¥ng b√°o l·ªói v√† k·∫øt qu·∫£ -->
        <div class="error" id="error"></div>
        <div class="result" id="result"></div>

        <!-- 3 con x√∫c x·∫Øc -->
        <div class="dice-container">
            <span id="dice1" class="dice">‚öÄ</span>
            <span id="dice2" class="dice">‚öÅ</span>
            <span id="dice3" class="dice">‚öÇ</span>
        </div>
        <!-- L·ªãch s·ª≠ ch∆°i -->
        <div class="history" id="history">
            <h2>L·ªãch s·ª≠ ch∆°i</h2>
            <ul id="historyList"></ul>
        </div>

    </div>

    <script>
        let balance = 1000;
        let betAmount = 0;

        function updateDisplay() {
            document.getElementById("balance").textContent = `$${balance}`;
            document.getElementById("betAmount").textContent = `$${betAmount}`;
            document.getElementById("error").textContent = "";
        }

        function addBet(amount) {
            if (balance < amount) {
                document.getElementById("error").textContent = "S·ªë d∆∞ c·ªßa b·∫°n kh√¥ng ƒë·ªß ƒë·ªÉ th√™m s·ªë ti·ªÅn n√†y.";
            } else {
                betAmount += amount;
                updateDisplay();
            }
        }

        function allIn() {
            betAmount = balance;
            updateDisplay();
        }

        function clearBet() {
            betAmount = 0;
            updateDisplay();
        }

        function rollDice() {
            return Math.floor(Math.random() * 6) + 1;
        }

        function placeBet(playerChoice) {
            if (betAmount <= 0) {
                document.getElementById("error").textContent = "Vui l√≤ng th√™m ti·ªÅn c∆∞·ª£c tr∆∞·ªõc khi ƒë·∫∑t c∆∞·ª£c.";
                return;
            }
            if (betAmount > balance) {
                document.getElementById("error").textContent = "S·ªë d∆∞ c·ªßa b·∫°n kh√¥ng ƒë·ªß ƒë·ªÉ ƒë·∫∑t c∆∞·ª£c s·ªë ti·ªÅn n√†y.";
                return;
            }

            balance -= betAmount;
            updateDisplay();

            // Hi·ªáu ·ª©ng xoay x√∫c x·∫Øc trong 5 gi√¢y
            const diceElements = [document.getElementById("dice1"), document.getElementById("dice2"), document.getElementById("dice3")];
            diceElements.forEach(dice => dice.style.transform = "rotateX(1080deg) rotateY(1080deg)");

            setTimeout(() => {
                const dice1 = rollDice();
                const dice2 = rollDice();
                const dice3 = rollDice();
                const total = dice1 + dice2 + dice3;

                // K·∫øt qu·∫£ tung x√∫c x·∫Øc
                document.getElementById("dice1").textContent = `‚öÄ‚öÅ‚öÇ‚öÉ‚öÑ‚öÖ`.charAt(dice1 - 1);
                document.getElementById("dice2").textContent = `‚öÄ‚öÅ‚öÇ‚öÉ‚öÑ‚öÖ`.charAt(dice2 - 1);
                document.getElementById("dice3").textContent = `‚öÄ‚öÅ‚öÇ‚öÉ‚öÑ‚öÖ`.charAt(dice3 - 1);

                diceElements.forEach(dice => dice.style.transform = "rotateX(0deg) rotateY(0deg)");

                let resultMessage = `T·ªïng s·ªë ƒëi·ªÉm: ${total}. `;
                const isTai = total >= 11 && total <= 17;
                const isXiu = total >= 4 && total <= 10;
                let historyMessage = `C∆∞·ª£c ${playerChoice === 'tai' ? 'T√†i' : 'X·ªâu'} v·ªõi ${betAmount}$ - `;

                if ((playerChoice === 'tai' && isTai) || (playerChoice === 'xiu' && isXiu)) {
                    const winnings = betAmount * 1.9;
                    balance += winnings;
                    resultMessage += `Ch√∫c m·ª´ng! B·∫°n ƒë√£ th·∫Øng v√† nh·∫≠n ƒë∆∞·ª£c ${winnings.toFixed(2)}$. üéâ`;
                    historyMessage += `Th·∫Øng ${winnings.toFixed(2)}$.`;
                } else {
                    resultMessage += `R·∫•t ti·∫øc, b·∫°n ƒëo√°n sai v√† m·∫•t ${betAmount}$. üòû`;
                    historyMessage += `Thua ${betAmount}$.`;
                }

                document.getElementById("result").innerHTML = resultMessage;
                addToHistory(historyMessage);
                betAmount = 0;
                updateDisplay();
            }, 5000); // Th·ªùi gian ch·ªù 5 gi√¢y cho hi·ªáu ·ª©ng xoay x√∫c x·∫Øc
        }

        function addToHistory(message) {
            const historyList = document.getElementById("historyList");
            const listItem = document.createElement("li");
            listItem.textContent = message;
            historyList.insertBefore(listItem, historyList.firstChild);
        }

    </script>
</body>

</html>
